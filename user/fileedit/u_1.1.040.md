# ファイルのバージョンを戻す方法

記事種別：ユーザー機能  
タグ：操作方法に関する記事  
カテゴリ：DirectCloud  

---

## 目次
- [対応プラン](#対応プラン)
- [対応アプリケーション](#対応アプリケーション)
- [概要](#概要)
- [制限・補足事項](#制限補足事項)
- [手順](#手順)
- [関連記事](#関連記事)

---

## 対応プラン
 
| Pro | Pro+ |
| --- | --- |
| ○ | ○ |

---

## 対応アプリケーション

| Webアプリケーション | PCアプリケーション（Windows） | PCアプリケーション（Mac） | DirectCloudドライブ（Windows） | DirectCloudドライブ（Mac） | モバイルアプリケーション（iOS） | モバイルアプリケーション（Android） |
| --- | --- | --- | --- | --- | --- | --- |
| ○ | ○ | ○ | ○ | ○ | × | × |

---

## 概要

ここでは、DirectCloudに保存されているファイルを以前のバージョンに戻す方法について説明します。

---

## 制限・補足事項

本記事には、共有フォルダの操作方法について記載していますが、ConnectフォルダとDLPフォルダについても、同様の手順で操作することができます。  

「バージョン履歴」機能を利用するには、以下の設定が完了している必要があります。  

- [ストレージのバージョン管理を有効にする方法]()で、管理ページの「バージョン管理」設定が「使用する」に設定されている  
- [指定フォルダでバージョン管理を有効にする方法]()で、フォルダプロパティ設定の「バージョン管理」が「使用する」に設定されている  

ファイルを過去のバージョンに戻すには、「副管理者」「副管理者1」「副管理者2」「オーナー」のアクセスレベルが付与されている必要があります。  
詳細については、[アクセスレベルの種類とWebアプリケーションで可能な操作]()を参照してください。  

バージョン管理で保存できるファイルの数（世代数）は、契約プランによって異なります。  

スタンダード  
アドバンスド  
ビジネス  
プレミアム  
エンタープライズ  
40個  
60個  
60個  
100個  
200個  

契約プランがエンタープライズで、DirectCloudの無料オプションである「DirectCloud 監査」を利用できる場合、バージョン管理で保存できるファイルの数が無制限となります。  

過去のバージョンから、新しいバージョンにファイルを復元することもできます。  

日付を指定してバージョンを戻すことはできません。  

更新されたファイルの差分は保持されません。過去のバージョンファイルが、一定期間保存されます。  

各ストレージに保存されているバージョンファイルの容量は、[ストレージの契約容量と使用容量を確認する方法]()で確認できます。  

[同じ名前のファイルをアップロードしたときの処理を設定する方法]()で、ファイルが上書きされる設定になっている場合、同じ名前のファイルをアップロードすると、ファイルのバージョンが更新されます。  

[ファイルをダウンロードせずにオンライン編集する方法]()で以下の操作をすると、ファイルのバージョンが更新されます。  

- オンライン編集画面で右クリックし、表示されたメニューから「コメントを追加」を選択  
- オンライン編集画面の右上にある×ボタンをクリックし、確認画面で「OK」ボタンをクリック  

オンライン編集画面で編集を加えたあとに右上にある×ボタンをクリックし、確認画面で「OK」ボタンをクリックしたタイミングで、バージョンが更新されます。  

契約プランがエンタープライズで、DirectCloudの無料オプションである「DirectCloud-CONNECT」を利用できる場合、「Connect」メニューが表示されます。  

契約プランがビジネス以上で、DirectCloudの有料オプションである「DirectCloud-SHIELD DLP」を契約している場合、「DLP」メニューが表示されます。  

契約プランがビジネス以上で、DirectCloudの無料オプションである「DirectCloud 電子帳簿保存法対応」を利用できる場合、「文書管理」メニューが表示されます。  

以下のフォルダに保存されているファイルは、アップロードやオンライン編集などによって更新されないため、バージョン履歴を利用することができません。  

- 「文書管理」メニュー以下のフォルダ  
- 「DirectCloud AI」が有効なフォルダ  

契約プランが「ビジネス」以上の場合、標準でウォームストレージを利用できるため、ユーザーページに「ウォームストレージ」メニューが表示されます。  

ウォームストレージのファイルが上書き保存された場合も、バージョン履歴は残ります。  
ファイルのプレビュー機能を利用できる場合、ウォームストレージでバージョン履歴を確認することはできますが、過去のバージョンファイルに復元することはできません。  

契約プランが「ビジネス」以上で、有料オプションの「コールドストレージ」を契約している場合、ユーザーページに「コールドストレージ」メニューが表示されます。  

コールドストレージでは、バージョン履歴を確認、復元することができません。  

ウォームストレージおよびコールドストレージに移動されたファイルのバージョン履歴は、削除されずに保持されています。移動や復元などでファイルを共有フォルダに戻すと、以前のバージョンに復元することができます。

---

## 手順

### Webアプリケーションでファイルのバージョンを戻す

1. バージョンを戻したいファイルが保存されているフォルダをクリックします。  
2. 以下のいずれかの方法で、ファイルのバージョンを戻します。  
   ❶ バージョンを戻したいファイルにチェックを入れて、上部にある「バージョン履歴」ボタンをクリックします。  
   ❷ バージョンを戻したいファイルを右クリックして表示されたメニューの「バージョン履歴」をクリックします。  
   ❸ バージョンを戻したいファイルの右側にある▼ボタンをクリックして、表示されたメニューの「バージョン履歴」をクリックします。  
3. 「バージョン履歴」画面に、最新バージョンのファイルが表示されます。  
4. 左のエリアでバージョンをクリックし、戻したいバージョンのファイルを表示します。  
5. 選択したバージョンにファイルを戻してもよい場合は、「復元」ボタンをクリックします。  
6. ファイルが復元されます。  
7. プレビューなどでファイルを表示して、選択したバージョンにファイルが復元されたことを確認します。  

---

### DirectCloudドライブでファイルのバージョンを戻す

1. バージョンを戻したいファイルが保存されているフォルダをクリックします。  
2. バージョンを戻したいファイルを右クリックし、表示されたメニューの「DirectCloudドライブ」>「バージョン履歴」をクリックします。  
3. バージョン履歴と最新バージョンのファイルが表示されます。  
4. 左のエリアでバージョンをクリックし、戻したいバージョンのファイルを表示します。  
5. 選択したバージョンにファイルを戻してもよい場合は、「復元」ボタンをクリックします。  
6. ファイルが復元され、メッセージが表示されます。  
7. 「OK」ボタンをクリックします。  
8. プレビューなどでファイルを表示して、選択したバージョンにファイルが復元されたことを確認します。  

---

## 関連記事

[ストレージのバージョン管理を有効にする方法]()  
[指定フォルダでバージョン管理を有効にする方法]()  
[アクセスレベルの種類とWebアプリケーションで可能な操作]()  
[ストレージの契約容量と使用容量を確認する方法]()  
[同じ名前のファイルをアップロードしたときの処理を設定する方法]()  
[ファイルをアップロードする方法]()  
[ファイルをダウンロードせずにオンライン編集する方法]()
